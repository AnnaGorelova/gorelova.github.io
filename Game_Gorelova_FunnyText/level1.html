<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Весёлый текст - Уровень 1</title>
    <link rel="stylesheet" href="css/level1.css">
    <link rel="stylesheet" href="css/common.css">
</head>
<body>
    <div class="game-container">
        <div class="progress-panel top">
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <span class="step-number">1</span>
                    <span class="step-label">Слова</span>
                </div>
                <div class="step" data-step="2">
                    <span class="step-number">2</span>
                    <span class="step-label">Словосочетания</span>
                </div>
                <div class="step" data-step="3">
                    <span class="step-number">3</span>
                    <span class="step-label">Предложения</span>
                </div>
            </div>
        </div>

        <header class="game-header">
            <div class="header-left">
                <button class="back-btn" onclick="goToLevels()">← К уровням</button>
                <h1 class="level-title">Уровень 1: перетаскиваем</h1>
            </div>
            <div class="header-right">
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-label">Счёт:</span>
                        <span id="score" class="stat-value">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Время:</span>
                        <span id="timer" class="stat-value">02:00</span>
                    </div>
                </div>
            </div>
        </header>

        <main class="game-main">
            <div id="stage-1" class="game-stage active">
                <div class="stage-header">
                    <h2>Этап 1: слова</h2>
                    <p class="stage-description">Перетащите слова из блока в правильные контейнеры. Двойной клик по слову вернёт его обратно в блок слов. Также можно перемещать блок с словом из одного в другие блоки с частями речи. После проверки перемещение будет заблокировано</p>
                </div>
                
               <div class="game-area">
                    <div class="words-source-panel">
                        <h3 class="words-source-title">Исходные слова</h3>
                        <div id="all-words-container" class="words-source-container drop-zone">
                        
                        </div>
                    </div>

                    <div class="categories-area">
                        <h3 class="categories-title">Части речи:</h3>
                        <div class="categories-container">
                        
                        </div>
                    </div>
                </div>

                <div class="stage-controls">
                    <button id="check-words-btn" class="check-btn" onclick="checkWordsStage()">
                        Проверить
                    </button>
                    <button id="finish-level-btn" class="finish-btn" onclick="finishLevel()">
                        Завершить уровень
                    </button>
                    <div class="feedback" id="words-feedback"></div>
                </div>
            </div>

            <div id="stage-2" class="game-stage">
                <div class="stage-header">
                    <h2>Этап 2: словосочетания</h2>
                    <p class="stage-description">Составьте словосочетания по схеме, показывающей правильный порядок частей речи. Двойной клик по слову вернёт его обратно в блок слов. После проверки перемещение будет заблокировано</p>
                </div>
                
                <div class="game-area">
                    <div class="words-source-panel">
                        <h3 class="words-source-title">Исходные слова</h3>
                        <div id="stage2-words-source" class="words-source-container drop-zone">
                        
                        </div>
                    </div>

                    <div class="phrases-area">
                        <div class="phrases-container">
                            
                        </div>
                    </div>
                </div>

                <div class="stage-controls">
                    <button id="check-phrases-btn" class="check-btn" onclick="checkPhrasesStage()">
                        Проверить 
                    </button>
                    <button id="finish-level-btn-2" class="finish-btn" onclick="finishLevel()">
                        Завершить уровень
                    </button>
                    <div class="feedback" id="phrases-feedback"></div>
                </div>
            </div>

            <div id="stage-3" class="game-stage">
                <div class="stage-header">
                    <h2>Этап 3: предложения</h2>
                    <p class="stage-description">Составьте предложения, учитывая схему предложения. Двойной клик по слову вернёт его обратно в блок слов. После проверки перемещение будет заблокировано</p>
                </div>
                
                <div class="game-area">
                    <div class="words-source-panel">
                        <h3 class="words-source-title">Исходные слова</h3>
                        <div id="stage3-words-source" class="words-source-container drop-zone">
                        
                        </div>
                    </div>

                    <div class="sentences-area">
                        <div class="sentences-container">
                          
                        </div>
                    </div>
                </div>

                <div class="stage-controls">
                   <button id="check-sentences-btn" class="check-btn" onclick="checkSentencesStage()">
                        Проверить
                    </button>
                    <button id="finish-level-btn-3" class="finish-btn" onclick="finishLevel()">
                        Завершить уровень
                    </button>
                    <div class="feedback" id="sentences-feedback"></div>
                </div>
            </div>
        </main>
    </div>

  
    <div id="completion-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Уровень пройден!</h2>
                <button class="modal-close" onclick="closeCompletionModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="results-summary">
                    <div class="result-item">
                        <span class="result-label">Финальный счёт:</span>
                        <span id="final-score" class="result-value">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Оставшееся время:</span>
                        <span id="time-left" class="result-value">0 сек</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Бонус за скорость:</span>
                        <span id="speed-bonus" class="result-value">0</span>
                    </div>
                    <div class="result-item total">
                        <span class="result-label">Итоговый счёт:</span>
                        <span id="total-score" class="result-value">0</span>
                    </div>
                </div>
                
                <div class="completion-buttons">
                    <button onclick="goToLevels()" class="completion-btn back-btn">
                        К выбору уровней
                    </button>
                    <button onclick="restartLevel()" class="completion-btn restart-btn">
                        Играть снова
                    </button>
                    <button onclick="goToLevel(2)" class="completion-btn next-btn">
                        Следующий уровень →
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="confirmation-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Завершение уровня</h3>
                <button class="modal-close" onclick="closeConfirmationModal()">×</button>
            </div>
            <div class="modal-body">
                <p>Вы действительно хотите завершить уровень досрочно?</p>
                <div class="modal-buttons">
                    <button class="confirm-btn" onclick="confirmFinishLevel()">Завершить</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/words.js"></script>
    <script src="js/gameStorage.js"></script>
    <script src="js/level1.js"></script>
</body>
</html>